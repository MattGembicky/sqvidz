<!DOCTYPE html>
<html lang="cs">
	<head>
		<title>SQVIDZ.io</title>
		<link rel="icon" type="image/png" href="/public/img/red_tentacle.png" size="16x16 32x32">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
	    <meta name="Content-Language" content="cs">
	    <meta name="Author" content="Matous Gembicky">
	    <meta name="KeyWords" content="squid, game, .io, frined, party">
	    <meta name="Description" content="Try to slap your frined with tentacle">
	    <script src="https://kit.fontawesome.com/53b570c0b2.js" crossorigin="anonymous"></script> 
	    <link rel="stylesheet" type="text/css" href="/public/sqvidz.css">
	    <link rel="stylesheet" type="text/css" href="/public/sqvidz-static.css">
	    <link rel="stylesheet" type="text/css" href="/public/sqvidz-loginPage.css">
	    
	</head>
	<body onload="webLoaded()">
		<div class="gameParts">
			<canvas id="ctx" width="960" height="960"></canvas>
			<canvas id="ctx-score" width="100" height="50" style="position: absolute;left: 0;bottom: 0;z-index: 3;"></canvas>
			<canvas id="ctx-info" width="200" height="100" style="position: absolute;left: 0;top: 0;z-index: 3;"></canvas>
			<div class="upgrade-board">
				<div class="upg_btn upg_mid upg_fir upg_sI upg_s" onclick="getUpgrade(1,1,1)">first</div>
				<div class="upg_btn upg_left upg_sec upg_sII upg_s" onclick="getUpgrade(1,2,0)">1</div>
				<div class="upg_btn upg_mid upg_sec upg_sII upg_s" onclick="getUpgrade(1,2,1)">2</div>
				<div class="upg_btn upg_right upg_sec upg_sII upg_s" onclick="getUpgrade(1,2,2)">3</div>

				<div class="upg_btn upg_left upg_for upg_sIV upg_s" onclick="getUpgrade(1,4,0)">1</div>
				<div class="upg_btn upg_mid upg_for upg_sIV upg_s" onclick="getUpgrade(1,4,1)">2</div>
				<div class="upg_btn upg_right upg_for upg_sIV upg_s" onclick="getUpgrade(1,4,2)">3</div>
				<div class="upg_btn upg_left upg_fif upg_sV upg_s" onclick="getUpgrade(1,5,0)">1</div>
				<div class="upg_btn upg_right upg_fif upg_sV upg_s" onclick="getUpgrade(1,5,2)">3</div>
				<div class="upg_btn upg_mid upg_six upg_sVI upg_s" onclick="getUpgrade(1,6,1)">2</div>
			</div>
			<div id="chatnlb-container">
				<h2 style="border-top: 0;background-color: #b00e59;">Leaderboard</h2>
					<div id="lb-box"></div>
				<h2 style="background-color: #046263;">CHAT</h2>
					<div id="chat-box"></div>
					<form id="chat-form" style="background-color: #044252;">
						<input id="chat-input" type="text" placeholder="type here">
						<button class="chat-submit submit" type="submit"><i class="fas fa-comment"></i></button>
					</form>
			</div>
		</div>
		<div class="login">
			<h1 class="version">DEVELOPMENT VERSION</h1>
			<div class="logo">
				<h1 class="name-sqvidz" style="left: 50%;transform: translate(-100%,0);">SQV</h1>
					<img class="sqvidTacle" src="" alt="sqvidTacle">
				<h1 class="name-sqvidz">DZ.io</h1>
			</div>
			<div class="login-box-conatainer">
				<ul>
					<li>
						<div class="login-box">
							<i class="fas fa-question-circle"></i>
							<form id="login-form">
								<input class="name-box" type="text" maxlength="20" placeholder="username">
								<input class="name-submit submit" type="submit" value="Play">
							</form>
							<p class="name-border">Make sure that you can see all of the black borders</p>
						</div>
					</li>
					<li>
						<div class="login-box">
							<form id="pick-form">
								<input type="button" class="pickSwitch" name="so" value="OCTOPUS" onclick="pickswitch()">
								<div class="pickClothing">
									<i class="pickClo fas fa-hat-cowboy"></i><br>
									<i class="pickClo fab fa-black-tie"></i><br>
									<i class="pickClo fas fa-ring"></i>
								</div>
								<img class="styleMe" src="/public/img/Octalia.gif" alt="Styling" style="display: inline-flex; left: 15%; margin-top: 2em;position: relative; width: 128px; height: 128px;">
								<div class="pickColor">
									<div class="control-group">
								        <label class="control control-radio"> 
								            <input class="colorSO" type="radio" name="radio" />
								            <div class="control_indicator" onclick="changeCalamari(0)"></div>
								        </label>
								    </div><br>
									<div class="control-group">
								        <label class="control control-radio">
								            <input class="colorSO" type="radio" name="radio" />
								            <div class="control_indicator" onclick="changeCalamari(1)" style="background-color: #046263;"></div>
								        </label>
								    </div><br>
								    <div class="control-group">
								        <label class="control control-radio">
								            <input class="colorSO" type="radio" name="radio" />
								            <div class="control_indicator" onclick="changeCalamari(2)" style="background-color: #514d73;"></div>
								        </label>
								    </div><br>
								    <div class="control-group">
								        <label class="control control-radio">
								            <input class="colorSO" type="radio" name="radio" />
								            <div class="control_indicator" onclick="changeCalamari(3)" style="background-color: #736c4d;"></div>
								        </label>
								    </div><br>
								    <div class="control-group">
								        <label class="control control-radio">
								            <input class="colorSO" type="radio" name="radio" />
								            <div class="control_indicator" onclick="changeCalamari(4)" style="background-color: #576947;"></div>
								        </label>
								    </div>
								</div>
							</form>
						</div>
					</li>
				</ul>
			</div>
		</div>
		<div class="cookieAcc">
			<form id="cookie-form">
				<p>Why we want your click on 'ACCEPT'?</p>
				<p>Our Cookies is there only for your comfortabel, complete data, that we are storing can be found here</p>
				<input class="name-submit submit" type="submit" value="Accept" style="display: inline-block;margin-right: 15em;">
			</form>
		</div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
		<script>

			function webLoaded() {	
				var fullDate = new Date();
				var hoursNow = fullDate.getHours();
				var tentacle = document.getElementsByClassName("sqvidTacle")[0];
				if((hoursNow>=18&&hoursNow<=24)||(hoursNow>=0&&hoursNow<=6))
					tentacle.src ="/public/img/blue_tentacle.png";
				else
					tentacle.src ="/public/img/red_tentacle.png";
				document.getElementsByClassName("name-box")[0].value=getCookie("username");
				if(getCookie("type")===1)
					pickswitch();
				var i = parseInt(getCookie("color"))-1;
				document.getElementsByClassName("colorSO")[i].checked=true;
				changeCalamari(i);
				if(getCookie("clicked")){
					document.getElementsByClassName("cookieAcc")[0].style.display="none";
					document.getElementsByTagName("body")[0].style.overflow="auto";
					document.getElementsByClassName("login")[0].style.display="block";
				}
			}

			function pickswitch(){
				var pswitch = document.getElementsByClassName("pickSwitch")[0];
				if(pswitch.value==="SQUID"){
					pswitch.value="OCTOPUS";
					pswitch.style.backgroundColor="#b00e59";
					CALAMARI=0;
				}
				else{
					pswitch.value="SQUID";
					pswitch.style.backgroundColor="#046263";
					CALAMARI=1;
				}
			}

			function changeCalamari(n){
				let sources = ["/public/img/Red.gif","/public/img/Blue.gif","/public/img/Violet.gif","/public/img/Yellow.gif","/public/img/Green.gif"];
				if(CALAMARI===0)
					document.getElementsByClassName("styleMe")[0].src=sources[n];
			}
			var CALAMARI = 0;

			document.getElementById("login-form").onsubmit = function(e){
    			e.preventDefault();
    			let nameBox = document.getElementsByClassName("name-box")[0];
    			let pswitch = document.getElementsByClassName("pickSwitch")[0];
    			let chosen = 0;
    			for(var i = 0;i<5;i++)
    				if(document.getElementsByClassName("colorSO")[i].checked)
    					chosen = i+1;
    			socket.emit('usernameIn',{username: nameBox.value ,color: chosen, calamari: CALAMARI});
    			setCookie("username",nameBox.value,30);
    			setCookie("color",chosen,30);
    			setCookie("type",CALAMARI,30);
    			setCookie('clicked',true,30);
    			document.getElementsByClassName("login")[0].style.display="none";
    			document.getElementsByClassName("gameParts")[0].style.display="block";
    		}


		</script>
		<script type="text/javascript" src="/public/js/game.js"></script>
		<script type="text/javascript" src="/public/js/chat.js"></script>
		<script type="text/javascript" src="/public/js/cookies.js"></script>
	</body>
</html>